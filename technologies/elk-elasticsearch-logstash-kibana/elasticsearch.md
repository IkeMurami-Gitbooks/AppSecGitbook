---
description: Elasticsearch хранит данные и обеспечивает быструю поисковую систему
---

# Elasticsearch

Порт: 9200 (default), 9300\
Протокол: http

api elasticserach может быть не доступно напрямую — работать с elastic можно только через kibana

**1.** Первое, что необходимо проверить можем ли мы получить какую-то информацию по [http://elasticsearch:9200/](http://elasticsearch:9200/)\
Если мы увидели информацию, в которой фигурирует версия сервера — это хорошо и мы можем смело переходить к шагу 2.\
Если информацию мы не увидели, то смотри пункт 3.

**2**. По умолчанию в elastic не включена аутентификация, что позволяет получить доступ сразу ко всей информации, содержащейся внутри

**3.** Если мы не увидели никакой информации на [http://elasticsearch:9200/](http://elasticsearch:9200/) — высок шанс того, что аутентификация включена и нам надо попробовать пробрутить пароли. Чаще всего пользователями являются: elastic (в старых версиях пароль был **changeme**), remote\_monitoring\_user, beats\_system, logstash\_system, kibana, kibana\_system, apm\_system

**4**. Если мы не смогли подобрать пароль и Elasticsearch не использует SSL/TLS, то можно попробовать осуществить атаку типа “человек по середине” (если это возможно).\
Возможно ваша проверка будет проходить методом “белого ящика” и логины-пароли вам дадут.

**5.** Следующий шаг — получение информации о пользователях и ролях в системе и дамп всей хранящейся информации (если это согласовано с Заказчиком).\
Получить информацию **о всех пользователях**:\
[http://elasticsearch:9200/\_security/user](http://elasticsearch:9200/\_security/user)\
Получить информацию **о всех ролях**:\
[http://elasticsearch:9200/\_security/role](http://elasticsearch:9200/\_security/role)

**6.** Сделать дамп информации, к которой есть доступ:\
[http://elasticsearch:9200/\_search?pretty=true\&size=9999](http://elasticsearch:9200/\_search?pretty=true\&size=9999)\
Здесь важно указать **size**, потому что без него, по умолчанию дампится будет только 10 результатов.

http://elastic:9200/logstash/search?size=50

